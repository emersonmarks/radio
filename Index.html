<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R√°dios do Brasil - Responsivo</title>
<style>

	*{ box-sizing: border-box; }

    body {
        font-family: Arial, sans-serif;
        background: #121212;
        color: #fff;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h1 { margin: 20px 0 10px 0; }

    /* Player fixo */
    #playerContainer {
        position: sticky;
        top: 0;
        background: #1e1e1e;
        width: 100%;
        max-width: 600px;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        text-align: center;
        box-shadow: 0 0 10px #000;
        z-index: 5;
    }
    #currentLogo {
        width: 60px;
        height: 60px;
        object-fit: contain;
        border-radius: 8px;
        background: #fff;
        margin-bottom: 8px;
    }
    #currentStation { margin: 5px 0; }
    audio {
        width: 100%;
        margin-top: 5px;
    }

    /* Filtros */
    #filters {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 20px;
        justify-content: center;
    }
    input, select, button {
        padding: 8px;
        border: none;
        border-radius: 4px;
        background: #1e1e1e;
        color: #fff;
    }
    input { width: 220px; }
    button {
        background: #ff6f61;
        cursor: pointer;
    }
    button:hover { background: #ff3b2f; }

    /* √Åreas de an√∫ncios */
    .ad-top, .ad-bottom {
        width: calc( 100% );
        max-width: 1200px;
        height: 90px;
        background: #333;
        color: #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 10px 0;
        text-align: center;
    }
    .ad-side {
        width: 120px;
        background: #333;
        color: #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 10px;
        flex-shrink: 0;
        height: fit-content;
        align-self: flex-start;
        position: sticky;
        top: 120px; /* para n√£o sobrepor o player fixo */
        text-align: center;
    }

    /* Layout principal */
    .main-container {
        display: flex;
        width: 100%;
        max-width: 1400px;
        justify-content: center;
    }
    .content {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 20px;
    }

    /* Listagem de r√°dios */
    #stations {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        width: 100%;
    }
    .station {
        background: #1e1e1e;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        transition: 0.3s;
        cursor: pointer;
    }
    .station:hover { background: #333; }
    .station img {
        width: 80px;
        height: 80px;
        object-fit: contain;
        border-radius: 8px;
        background: #fff;
        margin-bottom: 10px;
    }

    /* ===== Responsivo ===== */
    @media (max-width: 1000px) {
        .ad-side { display: none; }
        #stations { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
    }

    @media (max-width: 540px) {
        #filters {
            flex-direction: column;
            align-items: stretch;
        }
        #filters input, #filters select, #filters button {
            width: 100%;
        }

        .ad-top, .ad-bottom {
            height: 70px;
            font-size: 0.9em;
        }
        #playerContainer {
            max-width: 95%;
        }
    }
</style>
</head>
<body>

<!-- Logo / T√≠tulo -->
<h1>üéµ R√°dios do Brasil</h1>

<!-- Player fixo -->
<div id="playerContainer" style="display: none;">
    <img id="currentLogo" src="" alt="Logo">
    <h3 id="currentStation"></h3>
    <audio id="radioPlayer" controls autoplay></audio>
</div>

<!-- Filtros -->
<div id="filters">
    <input type="text" id="searchInput" placeholder="Buscar por nome...">

    <select id="stateSelect">
        <option value="">Todos os estados</option>
        <option value="S√£o Paulo">S√£o Paulo</option>
        <option value="Rio de Janeiro">Rio de Janeiro</option>
        <option value="Minas Gerais">Minas Gerais</option>
        <option value="Bahia">Bahia</option>
        <option value="Paran√°">Paran√°</option>
        <option value="Rio Grande do Sul">Rio Grande do Sul</option>
        <option value="Santa Catarina">Santa Catarina</option>
        <option value="Pernambuco">Pernambuco</option>
        <option value="Cear√°">Cear√°</option>
        <option value="Goi√°s">Goi√°s</option>
    </select>

    <select id="categorySelect">
        <option value="">Todas as categorias</option>
        <option value="rock">Rock</option>
        <option value="sertanejo">Sertanejo</option>
        <option value="gospel">Gospel</option>
        <option value="pop">Pop</option>
        <option value="jazz">Jazz</option>
        <option value="news">Not√≠cias</option>
        <option value="classical">Cl√°ssica</option>
        <option value="electronic">Eletr√¥nica</option>
        <option value="forr√≥">Forr√≥</option>
        <option value="pagode">Pagode</option>
    </select>

    <button onclick="applyFilters()">Buscar</button>
</div>

<!-- An√∫ncio topo -->
<div class="ad-top">[ Espa√ßo para an√∫ncio - Topo 1200x90 ]</div>

<!-- Conte√∫do com an√∫ncios laterais -->
<div class="main-container">
    <!-- An√∫ncio lateral esquerda -->
    <div class="ad-side">[ Lateral Esquerda ]</div>

    <!-- Conte√∫do principal -->
    <div class="content">
        <div id="stations"></div>
    </div>

    <!-- An√∫ncio lateral direita -->
    <div class="ad-side">[ Lateral Direita ]</div>
</div>

<!-- An√∫ncio rodap√© -->
<div class="ad-bottom">[ Espa√ßo para an√∫ncio - Rodap√© 1200x90 ]</div>

<script>
const API_BASE = "https://de1.api.radio-browser.info/json";
const playerContainer = document.getElementById("playerContainer");
const player = document.getElementById("radioPlayer");
const currentLogo = document.getElementById("currentLogo");
const currentStation = document.getElementById("currentStation");

window.onload = () => {
    fetchStations(); // Carrega r√°dios mais populares
};

async function fetchStations(search = "", state = "", category = "") {
    document.getElementById("stations").innerHTML = "<p>Carregando esta√ß√µes...</p>";
    try {
        let url = `${API_BASE}/stations/search?country=Brazil&limit=20&order=clickcount&reverse=true`;
        if (search) url += `&name=${encodeURIComponent(search)}`;
        if (state) url += `&state=${encodeURIComponent(state)}`;
        if (category) url += `&tag=${encodeURIComponent(category)}`;

        const response = await fetch(url);
        const data = await response.json();
        renderStations(data);
    } catch (err) {
        console.error(err);
        document.getElementById("stations").innerHTML = "<p>Erro ao carregar esta√ß√µes.</p>";
    }
}

function renderStations(stations) {
    const container = document.getElementById("stations");
    container.innerHTML = "";

    if (!stations.length) {
        container.innerHTML = "<p>Nenhuma esta√ß√£o encontrada.</p>";
        return;
    }

    stations.forEach(station => {
        const div = document.createElement("div");
        div.className = "station";

        div.innerHTML = `
            <img src="${station.favicon || 'https://via.placeholder.com/80?text=üéµ'}" alt="Logo">
            <h3>${station.name}</h3>
            <p style="font-size: 0.9em; color: #aaa; word-wrap: break-word; overflow-wrap: break-word; ">${station.tags || "Sem tags"}</p>
        `;
		
		

        div.onclick = () => playStation(station);

        container.appendChild(div);
    });
}

function playStation(station) {
    currentLogo.src = station.favicon || "https://via.placeholder.com/60?text=üéµ";
    currentStation.textContent = station.name;
    player.src = station.url_resolved;
    player.play();
    playerContainer.style.display = "block";
}

function applyFilters() {
    const search = document.getElementById("searchInput").value.trim();
    const state = document.getElementById("stateSelect").value;
    const category = document.getElementById("categorySelect").value;
    fetchStations(search, state, category);
}
</script>
</body>
</html>
